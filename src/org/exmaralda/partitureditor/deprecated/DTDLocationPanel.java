/*
 * DTDLocationPanel.java
 *
 * Created on 1. August 2001, 17:45
 */

package org.exmaralda.partitureditor.deprecated;

/**
 *
 * @author  Thomas
 * @version 
 */
public class DTDLocationPanel extends javax.swing.JPanel {

    /** Creates new form DTDLocationPanel */
    public DTDLocationPanel() {
        buttonGroup = new javax.swing.ButtonGroup();        
        initComponents ();
        DTDType = new String ("none");
        DTDPath = new String ("");
        directoryTextField.setEnabled(false);
        browseButton.setEnabled(false);
        jLabel6.setEnabled(false);        
        
    }

    String getDTDType(){
        return DTDType;
    }
    
    String getDTDPath(){
        return DTDPath;
    }
    
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the FormEditor.
     */
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        noneRadioButton = new javax.swing.JRadioButton();
        buttonGroup.add(noneRadioButton);
        noneRadioButton.setMnemonic('D');
        jPanel5 = new javax.swing.JPanel();
        sameRadioButton = new javax.swing.JRadioButton();
        buttonGroup.add(sameRadioButton);
        sameRadioButton.setMnemonic('s');
        jPanel6 = new javax.swing.JPanel();
        publicRadioButton = new javax.swing.JRadioButton();
        buttonGroup.add(publicRadioButton);
        publicRadioButton.setMnemonic('p');
        jPanel7 = new javax.swing.JPanel();
        localRadioButton = new javax.swing.JRadioButton();
        buttonGroup.add(localRadioButton);
        localRadioButton.setMnemonic('l');
        jPanel8 = new javax.swing.JPanel();
        browseButton = new javax.swing.JButton();
        browseButton.setMnemonic('B');
        jLabel6 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jPanel9 = new javax.swing.JPanel();
        directoryTextField = new javax.swing.JTextField();

        setBorder(javax.swing.BorderFactory.createTitledBorder("Path to the DTD"));
        setLayout(new java.awt.GridLayout(6, 1));

        jPanel1.setLayout(new javax.swing.BoxLayout(jPanel1, javax.swing.BoxLayout.LINE_AXIS));

        noneRadioButton.setSelected(true);
        noneRadioButton.setText("Don't reference a DTD");
        noneRadioButton.setName("sameRadioButton"); // NOI18N
        noneRadioButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                noneRadioButtonActionPerformed(evt);
            }
        });
        jPanel1.add(noneRadioButton);

        add(jPanel1);

        jPanel5.setLayout(new javax.swing.BoxLayout(jPanel5, javax.swing.BoxLayout.LINE_AXIS));

        sameRadioButton.setText("DTD is in the same directory");
        sameRadioButton.setName("sameRadioButton"); // NOI18N
        sameRadioButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sameRadioButtonActionPerformed(evt);
            }
        });
        jPanel5.add(sameRadioButton);

        add(jPanel5);

        jPanel6.setLayout(new javax.swing.BoxLayout(jPanel6, javax.swing.BoxLayout.LINE_AXIS));

        publicRadioButton.setText("Use the public DTD");
        publicRadioButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                publicRadioButtonActionPerformed(evt);
            }
        });
        jPanel6.add(publicRadioButton);

        add(jPanel6);

        jPanel7.setLayout(new javax.swing.BoxLayout(jPanel7, javax.swing.BoxLayout.LINE_AXIS));

        localRadioButton.setText("Use a local DTD");
        localRadioButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                localRadioButtonActionPerformed(evt);
            }
        });
        jPanel7.add(localRadioButton);

        add(jPanel7);

        jPanel8.setLayout(new java.awt.BorderLayout());

        browseButton.setText("Browse...");
        browseButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                browseButtonActionPerformed(evt);
            }
        });
        jPanel8.add(browseButton, java.awt.BorderLayout.EAST);

        jLabel6.setText("Directory: ");
        jPanel8.add(jLabel6, java.awt.BorderLayout.WEST);

        jLabel2.setText("   ");
        jLabel2.setToolTipText("   ");
        jPanel8.add(jLabel2, java.awt.BorderLayout.CENTER);

        add(jPanel8);

        jPanel9.setLayout(new javax.swing.BoxLayout(jPanel9, javax.swing.BoxLayout.LINE_AXIS));

        directoryTextField.setPreferredSize(new java.awt.Dimension(300, 20));
        directoryTextField.setMaximumSize(new java.awt.Dimension(2000, 20));
        directoryTextField.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                directoryTextFieldActionPerformed(evt);
            }
        });
        jPanel9.add(directoryTextField);

        add(jPanel9);
    }// </editor-fold>//GEN-END:initComponents

    private void noneRadioButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_noneRadioButtonActionPerformed
        // Add your handling code here:
        DTDType = "none";
        DTDPath = "";
        directoryTextField.setEnabled(false);
        browseButton.setEnabled(false);
        jLabel6.setEnabled(true);            
    }//GEN-LAST:event_noneRadioButtonActionPerformed

  private void browseButtonActionPerformed (java.awt.event.ActionEvent evt) {//GEN-FIRST:event_browseButtonActionPerformed
// Add your handling code here:
    javax.swing.JFileChooser chooser = new javax.swing.JFileChooser();
    chooser.setFileSelectionMode(javax.swing.JFileChooser.FILES_ONLY);
    chooser.setFileFilter(new org.exmaralda.partitureditor.deprecated.BasicTranscriptionDTDFileFilter());
    int returnval = chooser.showDialog(this, "Choose DTD");
    if(returnval == javax.swing.JFileChooser.APPROVE_OPTION) {
        DTDType = "system";
        String filename = chooser.getSelectedFile().getPath();
        int lastSep = filename.lastIndexOf(chooser.getSelectedFile().separator);
        if (lastSep > 0){
            String directoryname = filename.substring(0, lastSep);
            DTDPath = directoryname;
            directoryTextField.setText(directoryname);
        }
    }
  }//GEN-LAST:event_browseButtonActionPerformed

  private void localRadioButtonActionPerformed (java.awt.event.ActionEvent evt) {//GEN-FIRST:event_localRadioButtonActionPerformed
// Add your handling code here:
    DTDType = "system";
    DTDPath = directoryTextField.getText();
    directoryTextField.setEnabled(true);
    browseButton.setEnabled(true);
    jLabel6.setEnabled(true);    
  }//GEN-LAST:event_localRadioButtonActionPerformed

  private void publicRadioButtonActionPerformed (java.awt.event.ActionEvent evt) {//GEN-FIRST:event_publicRadioButtonActionPerformed
// Add your handling code here:
    DTDType = "public";
    DTDPath = "";
    directoryTextField.setEnabled(false);
    browseButton.setEnabled(false);
    jLabel6.setEnabled(false);        
  }//GEN-LAST:event_publicRadioButtonActionPerformed

  private void sameRadioButtonActionPerformed (java.awt.event.ActionEvent evt) {//GEN-FIRST:event_sameRadioButtonActionPerformed
// Add your handling code here:
    DTDType = "system";
    DTDPath = "";
    directoryTextField.setEnabled(false);
    browseButton.setEnabled(false);
    jLabel6.setEnabled(false);            
  }//GEN-LAST:event_sameRadioButtonActionPerformed

  private void directoryTextFieldActionPerformed (java.awt.event.ActionEvent evt) {//GEN-FIRST:event_directoryTextFieldActionPerformed
// Add your handling code here:
    DTDType = "system";
    DTDPath = directoryTextField.getText();
  }//GEN-LAST:event_directoryTextFieldActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton browseButton;
    private javax.swing.JTextField directoryTextField;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JRadioButton localRadioButton;
    private javax.swing.JRadioButton noneRadioButton;
    private javax.swing.JRadioButton publicRadioButton;
    private javax.swing.JRadioButton sameRadioButton;
    // End of variables declaration//GEN-END:variables
    private javax.swing.ButtonGroup buttonGroup;
    private String DTDType;
    private String DTDPath;
}